#### Команды для просмотра сети.

##### ifconfig (ifconfig --help)

- просмотр списка активных интерфейсов ``ifconfig``
- просмотр конфигурации конкретного интерфейса ``ifconfig ens33``
- просмотр списка доступных интерфейсов ``ifconfig -a``
- настройка ip адреса и активация интерфейса ``ifconfig ens 192.168.0.1 netmask 255.255.255.0 up`` 
- деактивация интерфейса ``ifconfig ens33 down``

##### ip (ip help)

- ip address show или ip a               - посмотреть ip адреса
- ip link show или ip -c -s link        - посмотреть физические устройства
- ip neigh show или ip -c -d neigh       - посмотреть arp таблицу
- ip route show или ip route            - посмотреть таблицу маршрутизации

  
##### route (route help, ip route help)

Таблица маршрутизации.
- добавление шлюза по умолчанию ``route add default gw 192.168.0.1``
- добавление маршрута в локальную сеть ``route add -net 192.168.20.0 netmask 255.255.255.0 dev ens33``
- добавление маршрута в удаленную сеть ``route add -net 192.168.50.0 netmask 255.255.255.0 gw 192.168.0.2``
- удаление маршрута ``route del -net 192.168.50.0 netmask 255.255.255.0 gw 192.168.0.2``
- просмотр таблицы маршрутизации ``route`` или ``ip route`` или ``netstat -r``


#### Ручная настройка сети в Ubuntu.

Просмотр доступных интерфейсов - ``ip -a`` или ``ifconfig | grep 'inet '``

Или так

`` ip a | grep inet | grep -v 127.0.0.1 | cut -d: -f2 | awk '{print $2}'``

Файл конфигурации интерфейсов - ``/etc/network/interfaces``.<br> 
``auto`` - говорит о том, что интерфейс надо конфигурировать при старте системы.

```
iface eth0 inet static 
address 192.168.5.100 
netmask 255.255.255.0 
gateway 192.168.5.1 
auto eth0 

iface eth1 inet dhcp
auto eth1 
```

После смены настроек в ``/etc/network/interfaces``, необходимо отключить и снова включить интерфейс.

```
ifdown eth0
ifup eth0
```

>- Настройка DNS.

```
Файл /etc/resolv.conf
```

``search example.com #мой домен, для подстановки в короткие имена``

```
nameserver 192.168.5.200  #локальный dns сервер
nameserver 77.88.8.1      #публичный сервер Yandex.ru
nameserver 8.8.8.8        #публичный сервер Google.com
nameserver 1.1.1.1        #более быстрый публичный сервер Cloudflare
```
![image](https://github.com/tvgVita69/Linux_begin/assets/98489171/8fdd3339-0f23-42e9-b638-5748faf56d86)

>- Ручная настройка имен хостов файл ``/etc/hosts``.

```
127.0.0.1       localhost.localdomain localhost ANY
::1             localhost6.localdomain6 localhost6

194.87.0.50           www.ru
```

Меняем имя компьютера(хоста, виртуальной машины)

![image](https://github.com/tvgVita69/Linux_begin/assets/98489171/4eef7f16-7861-44a5-9903-24727ca0a6c3)

``hostnamectl set-hostname PC5`` или в ручную ``nano /etc/hostname``



